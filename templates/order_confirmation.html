{% extends 'base.html' %}

{% block title %}Order Confirmed{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-lg-6">
            <div class="text-center mb-5">
                <h1 class="display-5 mb-3" style="font-weight: 400;">Confirmed</h1>
                <p class="text-muted">Thank you. Your order has been placed.</p>
                <div class="border border-color p-3 mt-4 d-inline-block">
                    <span class="text-uppercase small text-muted d-block mb-1">Order Number</span>
                    <strong class="fs-4">#{{ order.id }}</strong>
                </div>
            </div>

            <div class="border border-color p-4 p-md-5 bg-white">
                <h5 class="text-uppercase letter-spacing-1 mb-4 border-bottom pb-3">Receipt</h5>
                
                <div class="row mb-4">
                    <div class="col-6">
                        <small class="text-muted text-uppercase d-block mb-1">Type</small>
                        <span>{{ order.order_type }}</span>
                    </div>
                    <div class="col-6 text-end">
                        <small class="text-muted text-uppercase d-block mb-1">Payment</small>
                        <span>{{ order.payment_method }}</span>
                    </div>
                </div>

                {% if order.table %}
                <div class="row mb-4">
                    <div class="col-12">
                        <small class="text-muted text-uppercase d-block mb-1">Location</small>
                        <span>Table {{ order.table.table_number }}</span>
                    </div>
                </div>
                {% endif %}

                <div class="mt-5">
                    <small class="text-muted text-uppercase d-block mb-3 border-bottom pb-2">Items</small>
                    {% for item in order.items.all %}
                    <div class="d-flex justify-content-between mb-2">
                        <span>{{ item.quantity }}x {{ item.menu_item.name }}</span>
                        <span>₹{{ item.subtotal }}</span>
                    </div>
                    {% endfor %}
                </div>

                <div class="d-flex justify-content-between mt-4 pt-4 border-top border-dark fw-bold fs-5">
                    <span>Total</span>
                    <span>₹{{ order.final_amount }}</span>
                </div>
            </div>

            <div class="text-center mt-5">
                <a href="{% url 'menu' %}" class="btn btn-outline-primary me-2">Continue Shopping</a>
                <a href="{% url 'home' %}" class="btn btn-primary">Home</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}